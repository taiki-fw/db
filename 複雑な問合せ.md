# ビュー

- SELECT 文を保存している。<br>
  よって、使用頻度の高い SELECT 文をビューにしておくことで、使い回すことが出来る。
- 仮想的なテーブルが作成される(しかし、記憶装置には保存されない)

## ビューの作成方法

```sql
CREATE VIEW ShohinSum (shohin_bunrui, cnt_shohin)
-- ビュー名 (ビューの列名)
AS
SELECT shohin_bunrui, COUNT(*)
FROM Shohin
GROUP BY shohin_bunrui;
```

## ビューを FROM 句に指定した時の検索

検索順序

1. 最初に、ビュー定義された SELECT 文が実行され。
2. その結果に対して、ビューを FROM 句に指定した SELECT 文が実行される。

## 注意事項

1. ORDER BY 句は使えない
2. ビューに対する更新に制限がある

# サブクエリ

- 使い捨てのビュー。
- ビューとは異なり、SELECT 文の実行終了後に消去される。
- 以上からもわかるように記憶装置に保存されない

## サブクエリの記法

```sql
SELECT shohin_bunrui, cnt_shohin
FROM (SELECT shohin_bunrui, COUNT(*) AS cnt_shohin
      FROM Shohin
      GROUP BY shohin_bunrui) AS ShohinSum;
```

## スカラ・サブクエリ

- 「必ず 1 行 1 列だけの戻り値を返す」サブクエリのこと
- 要は単一の値を返すということ
